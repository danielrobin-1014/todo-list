<h1>My Tasks</h1>

<%= link_to "Add New Task", new_task_path, class: "add-task" %>

<ul class="task-list">
  <% @tasks.each do |task| %>
    <li class="task-item <%= 'completed' if task.completed %>">
      <%= form_with model: task, method: :patch, class: "task-form" do |f| %>
        <%= f.check_box :completed, class: "task-checkbox", onchange: "this.form.submit()" %>
        <span class="task-title"><%= task.title %></span>
      <% end %>
      <div class="task-actions">
        <%= link_to "Edit", edit_task_path(task), class: "edit-link" %>
        <%= link_to "Delete", 
    task_path(task), 
    method: :delete, 
    class: "delete-link",
    data: { 
      confirm: "Are you sure you want to delete this task?",
      turbo_method: :delete,
      turbo_confirm: "Are you sure?"
    } %>
      </div>
    </li>
  <% end %>
</ul>
